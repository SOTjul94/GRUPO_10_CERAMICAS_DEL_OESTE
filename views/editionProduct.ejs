<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ceramicas del oeste | Edicion de Producto </title>


  <link href="/stylesheets/header.css" rel="stylesheet">
  <link href="/stylesheets/editionProduct.css" rel="stylesheet">
  <link href="/stylesheets/footer.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://kit.fontawesome.com/ae1423e40e.js" crossorigin="anonymous"></script>
</head>

<body class="bg-crema">
  <%- include('./partials/header',) %>
<main class="card">

  <form action="/products/editionProduct/<%= product.id %>?_method=PUT " method="POST" id="editionProduct" class="row" enctype="multipart/form-data">
    <h2>Edicion de Producto</h2>
    <hr class="mb-5">
    <div class="input-field col-12 col-md-6">
      <input class="form-control" type="text" id="name" name="name" value="<%= product.name %>">
      <label for="name" class="">Nombre del producto:</label>
      <p id="nameMsg"></p>
      <p class="text-danger">
        <%= locals.errors && errors.name ? errors.name.msg : null %>
      </p>
    </div>
    <div class="input-field col-12 col-md-6">
      <input class="form-control" type="text" id="model" name="model" value="<%= product.model %>">
      <label> Modelo </label>
      <p id="modelMsg"></p>
      <p class="text-danger">
        <%= locals.errors && errors.model ? errors.model.msg : null %>
      </p>
    </div>

    <div class="input-field col-12 col-md-6">
      <input class="form-control" type="text" name="style" id="style" value="<%= product.style %>">
      <label> Estilo </label>
      <p id="styleMsg"></p>
      <p class="text-danger">
        <%= locals.errors && errors.style ? errors.style.msg : null %>
      </p>
    </div>
    <div class="input-field col-12 col-md-6">
      <select class="form-control" name="transit" id="transit">
        <option value="liviano" <%= product.transit === "liviano" && 'selected' %>>Liviano</option>
        <option value="medio" <%= product.transit === "medio" && 'selected' %>>Medio</option>
        <option value="pesado" <%= product.transit === "pesado" && 'selected' %>>Pesado</option>
      </select>
      <label> Tipo de transito </label>
      <p id="transitMsg"></p>
      <p class="text-danger">
        <%= locals.errors && errors.transit ? errors.transit.msg : null %>
      </p>
    </div>
    <div class="input-field col-12 col-md-4">
      <input class="form-control <%= locals.errors && errors.price ? 'is-invalid' : null %>" id="price" type="number"
        name="price" value="<%= product.price %>">
      <label>Precio</label>

      <p class="text-danger">
        <%= locals.errors && errors.price ? errors.price.msg : null %>
      </p>
      <p id="priceMsg"></p>

    </div>
    <div class="input-field col-12 col-md-4">
      <input class="form-control" type="number" name="box" id="box" value="<%= product.box %>">
      <label>Precio x caja</label>
      <p class="text-danger">
        <%= locals.errors && errors.box? errors.box.msg : null %>
      </p>
      <p id="boxMsg"></p>

    </div>
    <div class="input-field col-12 col-md-4">
      <input class="form-control" type="text" name="discount" id="discount" value="<%= product.discount %>">
      <label> Descuento </label>
      <p id="discountMsg"></p>
      <p class="text-danger">
        <%= locals.errors && errors.discount ? errors.discount.msg : null %>
      </p>
    </div>
    <div class="input-field col-12 col-md-4">
      <input class="form-control" type="text" name="dimensions" id="dimension" value="<%= product.dimension %>">
      <label> Dimensiones </label>
      <p class="text-danger">
        <%= locals.errors && errors.dimension ? errors.dimension.msg : null %>
      </p>
      <p id="dimensionMsg"></p>
    </div>
    <div class="input-field col-12 col-md-4">
      <input class="form-control" type="number" name="pei" id="pei" value="<%= product.pei %>">
      <label> PEI </label>
      <p id="peiMsg"></p>
      <p class="text-danger">
        <%= locals.errors && errors.pei ? errors.pei.msg : null %>
      </p>
    </div>
    <div class="input-field col-12 col-md-4">

      <select class="form-control" name="category" id="category">
        <option value="baños" <%=product.category==="baños" && 'selected' %>>Baños</option>
        <option value="exterior" <%=product.category==="exterior" && ' selected' %>>Exterior</option>
        <option value="interior" <%=product.category==="interior" && 'selected' %>>Interior</option>
      </select>
      <label>Categoría</label>

      <p id="categoryMsg"></p>

      <p class="text-danger">
        <%= locals.errors && errors.category ? errors.category.msg : null %>
      </p>

    </div>

    <div class="input-field col-12 col-md-4">
      <input class="form-control" type="text" name="origin" id="origin" value="<%= product.origin %>">
      <label> Origen </label>
      <p id="originMsg"></p>
      <p class="text-danger">
        <%= locals.errors && errors.origin ? errors.origin.msg : null %>
      </p>
    </div>
    <div class="input-field col-12 col-md-4">
      <input class="form-control" type="color" id="color" name="color" value="<%= product.color %>">
      <label> Gama de color </label>
      <p id="colorMsg"></p>
      <p class="text-danger">
        <%= locals.errors && errors.color ? errors.color.msg : null %>
      </p>
    </div>
    <div class="input-field col-12 col-md-4">
      <input class="form-control" type="text" name="code" id="code" value="<%= product.code %>">
      <label for="code">Codigo del producto</label>
    
      <p id="codeMsg"></p>
      <p class="text-danger">
        <%= locals.errors && errors.code? errors.code.msg : null %>
      </p>
    </div>
    <div class="input-field col-12">
      <input class="form-control" type="text" name="recomendation" id="recomendation"
        value="<%= product.recomendation %> ">
      <label> Recomendaciones de uso </label>
      <p id="recomendationMsg"></p>
      <p class="text-danger">
        <%= locals.errors && errors.recomendation ? errors.recomendation.msg : null %>
      </p>
    </div>

    <div class="input-field col-12">

      <textarea class="form-control <%= locals.errors && errors.description ? ' is-invalid' : null %>"
        name="description" id="description" cols="30" rows="5"
        style="resize: none;"><%= product.description %></textarea>

      <label>Descripción</label>
    
      <p id="descriptionInfo" hidden></p>
      <p class="text-danger" id="description">
        <p id="descriptionMsg"></p>
        <%= locals.errors && errors.description ? errors.description.msg : null %>
      </p>
    </div>


    <div class="row gap-3 mx-auto">
      <h4>Fotos del producto</h4>

      <div class="col-12 col-md-6 col-lg-8">
        <div id="preview" class="d-flex justify-content-around">
          <% product.images.forEach(img => { %>
            <img width="90" src="/images/<%= img.file %>" alt="<%= img.file %>">
          <% }) %>
        </div>
        <p class="text-danger">
          <%= locals.errors && errors.images ? errors.images.msg : null %>
        </p>
      </div>
      <div class="col-12 col-md-6 col-lg-3">
        <div class="m-2 w-100">
          <label for="images" class="btn btn-success ">Cambiar imágenes</label>
          <input type="file" name="images" id="images" hidden multiple />
          </div>
        <button type="submit" id="editionProductButton" class="btn btn-primary w-100 m-2">Guardar
          Cambios</button>
      </div>
  
    </div>

   
    <p id="msgEditionError"></p>
  </form>
</main>
<%- include("./partials/footer") %>
  <script src="/javascripts/editionProduct.js"></script>
  </body>

</html>